#!/usr/bin/env ruby

require 'floadr'

require 'optparse'

options = {}
OptionParser.new do |opt|
  opt.on('--search-terms TERMS') { |o| options[:search_terms] = o }
  opt.on('--output-file OUTPUTFILE') { |o| options[:output_file] = o }
end.parse!

puts options

split_search_terms = options[:search_terms].split(',')


floadr = Floadr.new
for search_term in split_search_terms
  floadr.process(search_term)
end
floadr.build(options[:output_file])
